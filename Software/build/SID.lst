ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"SID.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.setVoiceFreq,"ax",%progbits
  18              		.align	1
  19              		.global	setVoiceFreq
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	setVoiceFreq:
  27              	.LVL0:
  28              	.LFB126:
  29              		.file 1 "Src/SID.c"
   1:Src/SID.c     **** #include "SID.h"
   2:Src/SID.c     **** 
   3:Src/SID.c     **** // Setter methods for all of the voice settings
   4:Src/SID.c     **** void setVoiceFreq(SID *sidChip, uint16_t freq, int voice) {
  30              		.loc 1 4 59 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
   5:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
  35              		.loc 1 5 3 view .LVU1
  36              		.loc 1 5 6 is_stmt 0 view .LVU2
  37 0000 032A     		cmp	r2, #3
  38 0002 04D8     		bhi	.L1
   6:Src/SID.c     ****     return; // Error
   7:Src/SID.c     ****   }
   8:Src/SID.c     ****   sidChip->_voices[voice]._freq = freq;
  39              		.loc 1 8 3 is_stmt 1 view .LVU3
  40              		.loc 1 8 33 is_stmt 0 view .LVU4
  41 0004 02EB8202 		add	r2, r2, r2, lsl #2
  42              	.LVL1:
  43              		.loc 1 8 33 view .LVU5
  44 0008 5300     		lsls	r3, r2, #1
  45 000a 1844     		add	r0, r0, r3
  46              	.LVL2:
  47              		.loc 1 8 33 view .LVU6
  48 000c 4182     		strh	r1, [r0, #18]	@ movhi
  49              	.L1:
   9:Src/SID.c     **** }
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 2


  50              		.loc 1 9 1 view .LVU7
  51 000e 7047     		bx	lr
  52              		.cfi_endproc
  53              	.LFE126:
  55              		.section	.text.setVoicePWM,"ax",%progbits
  56              		.align	1
  57              		.global	setVoicePWM
  58              		.syntax unified
  59              		.thumb
  60              		.thumb_func
  61              		.fpu fpv4-sp-d16
  63              	setVoicePWM:
  64              	.LVL3:
  65              	.LFB127:
  10:Src/SID.c     **** 
  11:Src/SID.c     **** void setVoicePWM(SID *sidChip, uint16_t pwm, int voice) {
  66              		.loc 1 11 57 is_stmt 1 view -0
  67              		.cfi_startproc
  68              		@ args = 0, pretend = 0, frame = 0
  69              		@ frame_needed = 0, uses_anonymous_args = 0
  70              		@ link register save eliminated.
  12:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
  71              		.loc 1 12 3 view .LVU9
  72              		.loc 1 12 6 is_stmt 0 view .LVU10
  73 0000 032A     		cmp	r2, #3
  74 0002 09D8     		bhi	.L3
  13:Src/SID.c     ****     return; // Error
  14:Src/SID.c     ****   }
  15:Src/SID.c     ****   if (pwm > 4095)
  75              		.loc 1 15 3 is_stmt 1 view .LVU11
  76              		.loc 1 15 6 is_stmt 0 view .LVU12
  77 0004 B1F5805F 		cmp	r1, #4096
  78 0008 01D3     		bcc	.L5
  16:Src/SID.c     ****     pwm = 4095; // Clamp to 12 bits
  79              		.loc 1 16 9 view .LVU13
  80 000a 40F6FF71 		movw	r1, #4095
  81              	.LVL4:
  82              	.L5:
  17:Src/SID.c     ****   sidChip->_voices[voice]._pwm = pwm;
  83              		.loc 1 17 3 is_stmt 1 view .LVU14
  84              		.loc 1 17 32 is_stmt 0 view .LVU15
  85 000e 02EB8202 		add	r2, r2, r2, lsl #2
  86              	.LVL5:
  87              		.loc 1 17 32 view .LVU16
  88 0012 5300     		lsls	r3, r2, #1
  89 0014 1844     		add	r0, r0, r3
  90              	.LVL6:
  91              		.loc 1 17 32 view .LVU17
  92 0016 8182     		strh	r1, [r0, #20]	@ movhi
  93              	.L3:
  18:Src/SID.c     **** }
  94              		.loc 1 18 1 view .LVU18
  95 0018 7047     		bx	lr
  96              		.cfi_endproc
  97              	.LFE127:
  99              		.section	.text.setVoiceShape,"ax",%progbits
 100              		.align	1
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 3


 101              		.global	setVoiceShape
 102              		.syntax unified
 103              		.thumb
 104              		.thumb_func
 105              		.fpu fpv4-sp-d16
 107              	setVoiceShape:
 108              	.LVL7:
 109              	.LFB128:
  19:Src/SID.c     **** 
  20:Src/SID.c     **** void setVoiceShape(SID *sidChip, Shape shape, int voice) {
 110              		.loc 1 20 58 is_stmt 1 view -0
 111              		.cfi_startproc
 112              		@ args = 0, pretend = 0, frame = 0
 113              		@ frame_needed = 0, uses_anonymous_args = 0
 114              		@ link register save eliminated.
  21:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 115              		.loc 1 21 3 view .LVU20
 116              		.loc 1 21 6 is_stmt 0 view .LVU21
 117 0000 032A     		cmp	r2, #3
 118 0002 04D8     		bhi	.L7
  22:Src/SID.c     ****     return; // Error
  23:Src/SID.c     ****   }
  24:Src/SID.c     ****   sidChip->_voices[voice]._currentShape = shape;
 119              		.loc 1 24 3 is_stmt 1 view .LVU22
 120              		.loc 1 24 41 is_stmt 0 view .LVU23
 121 0004 02EB8202 		add	r2, r2, r2, lsl #2
 122              	.LVL8:
 123              		.loc 1 24 41 view .LVU24
 124 0008 5300     		lsls	r3, r2, #1
 125 000a 1844     		add	r0, r0, r3
 126              	.LVL9:
 127              		.loc 1 24 41 view .LVU25
 128 000c 0174     		strb	r1, [r0, #16]
 129              	.L7:
  25:Src/SID.c     **** }
 130              		.loc 1 25 1 view .LVU26
 131 000e 7047     		bx	lr
 132              		.cfi_endproc
 133              	.LFE128:
 135              		.section	.text.setVoiceEnv,"ax",%progbits
 136              		.align	1
 137              		.global	setVoiceEnv
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	setVoiceEnv:
 144              	.LVL10:
 145              	.LFB129:
  26:Src/SID.c     **** 
  27:Src/SID.c     **** void setVoiceEnv(SID *sidChip, Envelope env, int voice) {
 146              		.loc 1 27 57 is_stmt 1 view -0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 8
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150              		@ link register save eliminated.
 151              		.loc 1 27 57 is_stmt 0 view .LVU28
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 4


 152 0000 82B0     		sub	sp, sp, #8
 153              	.LCFI0:
 154              		.cfi_def_cfa_offset 8
 155 0002 0191     		str	r1, [sp, #4]
  28:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 156              		.loc 1 28 3 is_stmt 1 view .LVU29
 157              		.loc 1 28 6 is_stmt 0 view .LVU30
 158 0004 032A     		cmp	r2, #3
 159 0006 05D8     		bhi	.L9
  29:Src/SID.c     ****     return; // Error
  30:Src/SID.c     ****   }
  31:Src/SID.c     ****   sidChip->_voices[voice]._env = env;
 160              		.loc 1 31 3 is_stmt 1 view .LVU31
 161              		.loc 1 31 32 is_stmt 0 view .LVU32
 162 0008 02EB8202 		add	r2, r2, r2, lsl #2
 163              	.LVL11:
 164              		.loc 1 31 32 view .LVU33
 165 000c 5300     		lsls	r3, r2, #1
 166 000e 0344     		add	r3, r3, r0
 167 0010 C3F81610 		str	r1, [r3, #22]	@ unaligned
 168              	.L9:
  32:Src/SID.c     **** }
 169              		.loc 1 32 1 view .LVU34
 170 0014 02B0     		add	sp, sp, #8
 171              	.LCFI1:
 172              		.cfi_def_cfa_offset 0
 173              		@ sp needed
 174 0016 7047     		bx	lr
 175              		.cfi_endproc
 176              	.LFE129:
 178              		.section	.text.setFilterCutoff,"ax",%progbits
 179              		.align	1
 180              		.global	setFilterCutoff
 181              		.syntax unified
 182              		.thumb
 183              		.thumb_func
 184              		.fpu fpv4-sp-d16
 186              	setFilterCutoff:
 187              	.LVL12:
 188              	.LFB135:
  33:Src/SID.c     **** 
  34:Src/SID.c     **** // Functions to write each voice setting to the appropriate register
  35:Src/SID.c     **** void writeVoiceFreq(SID *sidChip, int voice) {
  36:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
  37:Src/SID.c     ****     return; // Error
  38:Src/SID.c     ****   }
  39:Src/SID.c     ****   // Frequency is two bytes
  40:Src/SID.c     ****   writeSID(sidChip, VOICE_1_FREQ_LOW + (voice * VOICE_REGISTER_OFFSET),
  41:Src/SID.c     ****            sidChip->_voices[voice]._freq & 0xFF);
  42:Src/SID.c     **** 
  43:Src/SID.c     ****   writeSID(sidChip, VOICE_1_FREQ_HIGH + (voice * VOICE_REGISTER_OFFSET),
  44:Src/SID.c     ****            sidChip->_voices[voice]._freq & 0xFF00 >> 8);
  45:Src/SID.c     **** }
  46:Src/SID.c     **** 
  47:Src/SID.c     **** void writeVoicePWM(SID *sidChip, int voice) {
  48:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
  49:Src/SID.c     ****     return; // Error
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 5


  50:Src/SID.c     ****   }
  51:Src/SID.c     ****   // Frequency is two bytes
  52:Src/SID.c     ****   writeSID(sidChip, VOICE_1_PWM_LOW + (voice * VOICE_REGISTER_OFFSET),
  53:Src/SID.c     ****            sidChip->_voices[voice]._pwm & 0xFF);
  54:Src/SID.c     **** 
  55:Src/SID.c     ****   writeSID(sidChip, VOICE_1_PWM_HIGH + (voice * VOICE_REGISTER_OFFSET),
  56:Src/SID.c     ****            (sidChip->_voices[voice]._pwm & 0xF00) >> 8); // Masked to 5 bits
  57:Src/SID.c     **** }
  58:Src/SID.c     **** 
  59:Src/SID.c     **** void writeVoiceEnv(SID *sidChip, int voice) {
  60:Src/SID.c     ****   uint8_t attack_decay = 0;
  61:Src/SID.c     ****   attack_decay |= (sidChip->_voices[voice]._env.Attack & 0xF) << 4;
  62:Src/SID.c     ****   attack_decay |= sidChip->_voices[voice]._env.Decay & 0xF;
  63:Src/SID.c     **** 
  64:Src/SID.c     ****   uint8_t sustain_release = 0;
  65:Src/SID.c     ****   sustain_release |= (sidChip->_voices[voice]._env.Sustain & 0xF) << 4;
  66:Src/SID.c     ****   sustain_release |= sidChip->_voices[voice]._env.Release & 0xF;
  67:Src/SID.c     **** 
  68:Src/SID.c     ****   writeSID(sidChip, VOICE_1_ATTACK_DECAY+ (voice * VOICE_REGISTER_OFFSET), attack_decay);
  69:Src/SID.c     ****   writeSID(sidChip, VOICE_1_SUSTAIN_RELEASE + (voice * VOICE_REGISTER_OFFSET), sustain_release);
  70:Src/SID.c     **** }
  71:Src/SID.c     **** 
  72:Src/SID.c     **** void gateVoice(SID *sidChip, int voice) {
  73:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
  74:Src/SID.c     ****     return; // Error
  75:Src/SID.c     ****   }
  76:Src/SID.c     ****   // Gating set the GATE bit to high, that starts the AD sequence
  77:Src/SID.c     **** 
  78:Src/SID.c     ****   // We have to first construct the data byte
  79:Src/SID.c     **** 
  80:Src/SID.c     ****   // FIXME, do we support compound voices?
  81:Src/SID.c     ****   uint8_t data = 0;
  82:Src/SID.c     ****   switch (sidChip->_voices[voice]._currentShape) {
  83:Src/SID.c     ****   case Square:
  84:Src/SID.c     ****     data |= 1 << 6;
  85:Src/SID.c     ****     break;
  86:Src/SID.c     ****   case Noise:
  87:Src/SID.c     ****     data |= 1 << 7;
  88:Src/SID.c     ****     break;
  89:Src/SID.c     ****   case Sawtooth:
  90:Src/SID.c     ****     data |= 1 << 5;
  91:Src/SID.c     ****     break;
  92:Src/SID.c     ****   case Triangle:
  93:Src/SID.c     ****     data |= 1 << 4;
  94:Src/SID.c     ****     break;
  95:Src/SID.c     ****   }
  96:Src/SID.c     **** 
  97:Src/SID.c     ****   // Set the gate bit
  98:Src/SID.c     ****   data |= 1;
  99:Src/SID.c     **** 
 100:Src/SID.c     ****   // FIXME - set gate/ringmod
 101:Src/SID.c     **** 
 102:Src/SID.c     ****   // Write the data to the SID chip
 103:Src/SID.c     ****   writeSID(sidChip, VOICE_1_CONTROL + (voice * VOICE_REGISTER_OFFSET), data);
 104:Src/SID.c     **** }
 105:Src/SID.c     **** 
 106:Src/SID.c     **** void ungateVoice(SID *sidChip, int voice) {
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 6


 107:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 108:Src/SID.c     ****     return; // Error
 109:Src/SID.c     ****   }
 110:Src/SID.c     ****   // Gating set the GATE bit to high, that starts the AD sequence
 111:Src/SID.c     **** 
 112:Src/SID.c     ****   // We have to first construct the data byte
 113:Src/SID.c     **** 
 114:Src/SID.c     ****   // FIXME, do we support compound voices?
 115:Src/SID.c     ****   uint8_t data = 0;
 116:Src/SID.c     ****   switch (sidChip->_voices[voice]._currentShape) {
 117:Src/SID.c     ****   case Square:
 118:Src/SID.c     ****     data |= 1 << 6;
 119:Src/SID.c     ****     break;
 120:Src/SID.c     ****   case Noise:
 121:Src/SID.c     ****     data |= 1 << 7;
 122:Src/SID.c     ****     break;
 123:Src/SID.c     ****   case Sawtooth:
 124:Src/SID.c     ****     data |= 1 << 5;
 125:Src/SID.c     ****     break;
 126:Src/SID.c     ****   case Triangle:
 127:Src/SID.c     ****     data |= 1 << 4;
 128:Src/SID.c     ****     break;
 129:Src/SID.c     ****   }
 130:Src/SID.c     **** 
 131:Src/SID.c     ****   // Set the gate bit
 132:Src/SID.c     ****   data &= 0xFE;
 133:Src/SID.c     **** 
 134:Src/SID.c     ****   // FIXME - set gate/ringmod
 135:Src/SID.c     **** 
 136:Src/SID.c     ****   // Write the data to the SID chip
 137:Src/SID.c     ****   writeSID(sidChip, VOICE_1_CONTROL + (voice * VOICE_REGISTER_OFFSET), data);
 138:Src/SID.c     **** }
 139:Src/SID.c     **** 
 140:Src/SID.c     **** void setFilterCutoff(SID *sidChip, uint16_t cutoff) {
 189              		.loc 1 140 53 is_stmt 1 view -0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 193              		@ link register save eliminated.
 141:Src/SID.c     ****   if (cutoff > 2047)
 194              		.loc 1 141 3 view .LVU36
 195              		.loc 1 141 6 is_stmt 0 view .LVU37
 196 0000 B1F5006F 		cmp	r1, #2048
 197 0004 01D3     		bcc	.L13
 142:Src/SID.c     ****     cutoff = 2047; // Clamp to 11 bits
 198              		.loc 1 142 12 view .LVU38
 199 0006 40F2FF71 		movw	r1, #2047
 200              	.LVL13:
 201              	.L13:
 143:Src/SID.c     **** 
 144:Src/SID.c     ****   sidChip->_filter._cutoff = cutoff;
 202              		.loc 1 144 3 is_stmt 1 view .LVU39
 203              		.loc 1 144 28 is_stmt 0 view .LVU40
 204 000a C185     		strh	r1, [r0, #46]	@ movhi
 145:Src/SID.c     **** }
 205              		.loc 1 145 1 view .LVU41
 206 000c 7047     		bx	lr
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 7


 207              		.cfi_endproc
 208              	.LFE135:
 210              		.section	.text.setFilterResonance,"ax",%progbits
 211              		.align	1
 212              		.global	setFilterResonance
 213              		.syntax unified
 214              		.thumb
 215              		.thumb_func
 216              		.fpu fpv4-sp-d16
 218              	setFilterResonance:
 219              	.LVL14:
 220              	.LFB137:
 146:Src/SID.c     **** 
 147:Src/SID.c     **** void writeFilterCutoff(SID *sidChip) {
 148:Src/SID.c     ****   // Cutoff is two bytes
 149:Src/SID.c     ****   writeSID(sidChip, FILTER_CUTOFF_LOW, sidChip->_filter._cutoff & 0xFF);
 150:Src/SID.c     ****   writeSID(sidChip, FILTER_CUTOFF_HIGH, (sidChip->_filter._cutoff & 0x700) >> 8);
 151:Src/SID.c     **** }
 152:Src/SID.c     **** 
 153:Src/SID.c     **** void setFilterResonance(SID *sidChip, uint8_t resonance) {
 221              		.loc 1 153 58 is_stmt 1 view -0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              		@ link register save eliminated.
 154:Src/SID.c     ****   if (resonance > 15)
 226              		.loc 1 154 3 view .LVU43
 227              		.loc 1 154 6 is_stmt 0 view .LVU44
 228 0000 0F29     		cmp	r1, #15
 229 0002 00D9     		bls	.L16
 155:Src/SID.c     ****     resonance = 15; // Clamp to 4 bits
 230              		.loc 1 155 15 view .LVU45
 231 0004 0F21     		movs	r1, #15
 232              	.LVL15:
 233              	.L16:
 156:Src/SID.c     ****   sidChip->_filter._resonance = resonance;
 234              		.loc 1 156 3 is_stmt 1 view .LVU46
 235              		.loc 1 156 31 is_stmt 0 view .LVU47
 236 0006 80F83010 		strb	r1, [r0, #48]
 157:Src/SID.c     **** }
 237              		.loc 1 157 1 view .LVU48
 238 000a 7047     		bx	lr
 239              		.cfi_endproc
 240              	.LFE137:
 242              		.section	.text.setFilterTargets,"ax",%progbits
 243              		.align	1
 244              		.global	setFilterTargets
 245              		.syntax unified
 246              		.thumb
 247              		.thumb_func
 248              		.fpu fpv4-sp-d16
 250              	setFilterTargets:
 251              	.LVL16:
 252              	.LFB138:
 158:Src/SID.c     **** 
 159:Src/SID.c     **** void setFilterTargets(SID *sidChip, int whatToFilter, _Bool filterOn) {
 253              		.loc 1 159 71 is_stmt 1 view -0
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 8


 254              		.cfi_startproc
 255              		@ args = 0, pretend = 0, frame = 0
 256              		@ frame_needed = 0, uses_anonymous_args = 0
 257              		@ link register save eliminated.
 160:Src/SID.c     ****   if (whatToFilter > NUM_VOICES + 1 || whatToFilter < 0) {
 258              		.loc 1 160 3 view .LVU50
 259              		.loc 1 160 6 is_stmt 0 view .LVU51
 260 0000 0429     		cmp	r1, #4
 261 0002 02D8     		bhi	.L18
 161:Src/SID.c     ****     return; // Error
 162:Src/SID.c     ****   }
 163:Src/SID.c     ****   sidChip->_filter._filterPipe[whatToFilter] = filterOn;
 262              		.loc 1 163 3 is_stmt 1 view .LVU52
 263              		.loc 1 163 46 is_stmt 0 view .LVU53
 264 0004 0844     		add	r0, r0, r1
 265              	.LVL17:
 266              		.loc 1 163 46 view .LVU54
 267 0006 80F83320 		strb	r2, [r0, #51]
 268              	.L18:
 164:Src/SID.c     **** }
 269              		.loc 1 164 1 view .LVU55
 270 000a 7047     		bx	lr
 271              		.cfi_endproc
 272              	.LFE138:
 274              		.section	.text.setVolume,"ax",%progbits
 275              		.align	1
 276              		.global	setVolume
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 280              		.fpu fpv4-sp-d16
 282              	setVolume:
 283              	.LVL18:
 284              	.LFB140:
 165:Src/SID.c     **** 
 166:Src/SID.c     **** void writeFilterResonance(SID *sidChip) {
 167:Src/SID.c     ****   // Data contains resonance and filter target
 168:Src/SID.c     ****   uint8_t data = 0;
 169:Src/SID.c     ****   data |= (sidChip->_filter._resonance & 0xF) << 4;
 170:Src/SID.c     ****   for (int i = 0; i < NUM_VOICES + 1; i++) {
 171:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
 172:Src/SID.c     ****   }
 173:Src/SID.c     ****   writeSID(sidChip, FILTER_RES, data);
 174:Src/SID.c     **** }
 175:Src/SID.c     **** 
 176:Src/SID.c     **** void setVolume(SID *sidChip, uint8_t volume) {
 285              		.loc 1 176 46 is_stmt 1 view -0
 286              		.cfi_startproc
 287              		@ args = 0, pretend = 0, frame = 0
 288              		@ frame_needed = 0, uses_anonymous_args = 0
 289              		@ link register save eliminated.
 177:Src/SID.c     ****   if (volume > 15)
 290              		.loc 1 177 3 view .LVU57
 291              		.loc 1 177 6 is_stmt 0 view .LVU58
 292 0000 0F29     		cmp	r1, #15
 293 0002 00D9     		bls	.L21
 178:Src/SID.c     ****     volume = 15; // Clamp to 4 bits
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 9


 294              		.loc 1 178 12 view .LVU59
 295 0004 0F21     		movs	r1, #15
 296              	.LVL19:
 297              	.L21:
 179:Src/SID.c     ****   sidChip->_filter._volume = volume;
 298              		.loc 1 179 3 is_stmt 1 view .LVU60
 299              		.loc 1 179 28 is_stmt 0 view .LVU61
 300 0006 80F83110 		strb	r1, [r0, #49]
 180:Src/SID.c     **** }
 301              		.loc 1 180 1 view .LVU62
 302 000a 7047     		bx	lr
 303              		.cfi_endproc
 304              	.LFE140:
 306              		.section	.text.setFilterType,"ax",%progbits
 307              		.align	1
 308              		.global	setFilterType
 309              		.syntax unified
 310              		.thumb
 311              		.thumb_func
 312              		.fpu fpv4-sp-d16
 314              	setFilterType:
 315              	.LVL20:
 316              	.LFB141:
 181:Src/SID.c     **** 
 182:Src/SID.c     **** void setFilterType(SID *sidChip, FilterType type) {
 317              		.loc 1 182 51 is_stmt 1 view -0
 318              		.cfi_startproc
 319              		@ args = 0, pretend = 0, frame = 0
 320              		@ frame_needed = 0, uses_anonymous_args = 0
 321              		@ link register save eliminated.
 183:Src/SID.c     ****   sidChip->_filter._type = type;
 322              		.loc 1 183 3 view .LVU64
 323              		.loc 1 183 26 is_stmt 0 view .LVU65
 324 0000 80F83210 		strb	r1, [r0, #50]
 184:Src/SID.c     **** }
 325              		.loc 1 184 1 view .LVU66
 326 0004 7047     		bx	lr
 327              		.cfi_endproc
 328              	.LFE141:
 330              		.section	.text.writeSID,"ax",%progbits
 331              		.align	1
 332              		.global	writeSID
 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu fpv4-sp-d16
 338              	writeSID:
 339              	.LVL21:
 340              	.LFB143:
 185:Src/SID.c     **** 
 186:Src/SID.c     **** void writeFilterVolume(SID *sidChip) {
 187:Src/SID.c     ****   // Data contains volume and filter type
 188:Src/SID.c     ****   uint8_t data = 0;
 189:Src/SID.c     ****   data |= sidChip->_filter._volume & 0xF;
 190:Src/SID.c     ****   switch (sidChip->_filter._type) {
 191:Src/SID.c     ****   case ThreeOff:
 192:Src/SID.c     ****     data |= 1 << 7;
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 10


 193:Src/SID.c     ****     break;
 194:Src/SID.c     ****   case HP:
 195:Src/SID.c     ****     data |= 1 << 6;
 196:Src/SID.c     ****     break;
 197:Src/SID.c     ****   case BP:
 198:Src/SID.c     ****     data |= 1 << 5;
 199:Src/SID.c     ****     break;
 200:Src/SID.c     ****   case LP:
 201:Src/SID.c     ****     data |= 1 << 4;
 202:Src/SID.c     ****     break;
 203:Src/SID.c     ****   }
 204:Src/SID.c     ****   writeSID(sidChip, FILTER_MODE, data);
 205:Src/SID.c     **** }
 206:Src/SID.c     **** 
 207:Src/SID.c     **** // Writes data to the SID chip over SPI
 208:Src/SID.c     **** void writeSID(SID *sidChip, uint8_t addr, uint8_t data) {
 341              		.loc 1 208 57 is_stmt 1 view -0
 342              		.cfi_startproc
 343              		@ args = 0, pretend = 0, frame = 8
 344              		@ frame_needed = 0, uses_anonymous_args = 0
 345              		.loc 1 208 57 is_stmt 0 view .LVU68
 346 0000 10B5     		push	{r4, lr}
 347              	.LCFI2:
 348              		.cfi_def_cfa_offset 8
 349              		.cfi_offset 4, -8
 350              		.cfi_offset 14, -4
 351 0002 82B0     		sub	sp, sp, #8
 352              	.LCFI3:
 353              		.cfi_def_cfa_offset 16
 354 0004 0446     		mov	r4, r0
 209:Src/SID.c     ****   // The first bit out of MOSI is the LSB, which goes to the furthest location
 210:Src/SID.c     ****   // in the shift register. In our case, that is A0, which is the LSB of the
 211:Src/SID.c     ****   // address bus on the SID
 212:Src/SID.c     **** 
 213:Src/SID.c     ****   uint16_t writeBytes = 0;
 355              		.loc 1 213 3 is_stmt 1 view .LVU69
 214:Src/SID.c     ****   // writeBytes needs to be D7, ..., D0, A4, ..., A0
 215:Src/SID.c     ****   // data is already 8 bits, so it can be shifted over by the size of addr (5)
 216:Src/SID.c     ****   // addr needs to be masked to 5 bits and is in place properly
 217:Src/SID.c     ****   writeBytes |= (data << 5) | (addr & 0x1F);
 356              		.loc 1 217 3 view .LVU70
 357              		.loc 1 217 37 is_stmt 0 view .LVU71
 358 0006 01F01F01 		and	r1, r1, #31
 359              	.LVL22:
 360              		.loc 1 217 29 view .LVU72
 361 000a 41EA4212 		orr	r2, r1, r2, lsl #5
 362              	.LVL23:
 363              		.loc 1 217 14 view .LVU73
 364 000e ADF80620 		strh	r2, [sp, #6]	@ movhi
 218:Src/SID.c     **** 
 219:Src/SID.c     ****   // We don't have to package the data into anything weird as the DATA_SIZE in
 220:Src/SID.c     ****   // the SPI init was set to SID_WORD of 13 bits. So we set SIZE to 1 as we are
 221:Src/SID.c     ****   // transmitting one word.
 222:Src/SID.c     ****   HAL_SPI_Transmit(sidChip->_spi, &writeBytes, 1, HAL_MAX_DELAY);
 365              		.loc 1 222 3 is_stmt 1 view .LVU74
 366 0012 4FF0FF33 		mov	r3, #-1
 367 0016 0122     		movs	r2, #1
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 11


 368 0018 0DF10601 		add	r1, sp, #6
 369 001c C068     		ldr	r0, [r0, #12]
 370              	.LVL24:
 371              		.loc 1 222 3 is_stmt 0 view .LVU75
 372 001e FFF7FEFF 		bl	HAL_SPI_Transmit
 373              	.LVL25:
 223:Src/SID.c     ****   // Now toggle the CS line on the SID for one cycle of the clock
 224:Src/SID.c     ****   HAL_GPIO_WritePin(sidChip->_cs_port, sidChip->_cs, GPIO_PIN_RESET);
 374              		.loc 1 224 3 is_stmt 1 view .LVU76
 375 0022 0022     		movs	r2, #0
 376 0024 6188     		ldrh	r1, [r4, #2]
 377 0026 A068     		ldr	r0, [r4, #8]
 378 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
 379              	.LVL26:
 225:Src/SID.c     ****   HAL_Delay((1 / SID_FREQ) * 1000);
 380              		.loc 1 225 3 view .LVU77
 381 002c 0020     		movs	r0, #0
 382 002e FFF7FEFF 		bl	HAL_Delay
 383              	.LVL27:
 226:Src/SID.c     ****   HAL_GPIO_WritePin(sidChip->_cs_port, sidChip->_cs, GPIO_PIN_SET);
 384              		.loc 1 226 3 view .LVU78
 385 0032 0122     		movs	r2, #1
 386 0034 6188     		ldrh	r1, [r4, #2]
 387 0036 A068     		ldr	r0, [r4, #8]
 388 0038 FFF7FEFF 		bl	HAL_GPIO_WritePin
 389              	.LVL28:
 227:Src/SID.c     **** }
 390              		.loc 1 227 1 is_stmt 0 view .LVU79
 391 003c 02B0     		add	sp, sp, #8
 392              	.LCFI4:
 393              		.cfi_def_cfa_offset 8
 394              		@ sp needed
 395 003e 10BD     		pop	{r4, pc}
 396              		.loc 1 227 1 view .LVU80
 397              		.cfi_endproc
 398              	.LFE143:
 400              		.section	.text.writeVoiceFreq,"ax",%progbits
 401              		.align	1
 402              		.global	writeVoiceFreq
 403              		.syntax unified
 404              		.thumb
 405              		.thumb_func
 406              		.fpu fpv4-sp-d16
 408              	writeVoiceFreq:
 409              	.LVL29:
 410              	.LFB130:
  35:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 411              		.loc 1 35 46 is_stmt 1 view -0
 412              		.cfi_startproc
 413              		@ args = 0, pretend = 0, frame = 0
 414              		@ frame_needed = 0, uses_anonymous_args = 0
  36:Src/SID.c     ****     return; // Error
 415              		.loc 1 36 3 view .LVU82
  36:Src/SID.c     ****     return; // Error
 416              		.loc 1 36 6 is_stmt 0 view .LVU83
 417 0000 0329     		cmp	r1, #3
 418 0002 00D9     		bls	.L32
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 12


 419 0004 7047     		bx	lr
 420              	.L32:
  35:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 421              		.loc 1 35 46 view .LVU84
 422 0006 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 423              	.LCFI5:
 424              		.cfi_def_cfa_offset 24
 425              		.cfi_offset 3, -24
 426              		.cfi_offset 4, -20
 427              		.cfi_offset 5, -16
 428              		.cfi_offset 6, -12
 429              		.cfi_offset 7, -8
 430              		.cfi_offset 14, -4
 431 0008 0C46     		mov	r4, r1
 432 000a 0646     		mov	r6, r0
  40:Src/SID.c     ****            sidChip->_voices[voice]._freq & 0xFF);
 433              		.loc 1 40 3 is_stmt 1 view .LVU85
 434 000c C1EBC107 		rsb	r7, r1, r1, lsl #3
 435 0010 FFB2     		uxtb	r7, r7
  41:Src/SID.c     **** 
 436              		.loc 1 41 35 is_stmt 0 view .LVU86
 437 0012 8D00     		lsls	r5, r1, #2
 438 0014 6A18     		adds	r2, r5, r1
 439 0016 5300     		lsls	r3, r2, #1
 440 0018 0344     		add	r3, r3, r0
  40:Src/SID.c     ****            sidChip->_voices[voice]._freq & 0xFF);
 441              		.loc 1 40 3 view .LVU87
 442 001a 9A7C     		ldrb	r2, [r3, #18]	@ zero_extendqisi2
 443 001c 3946     		mov	r1, r7
 444              	.LVL30:
  40:Src/SID.c     ****            sidChip->_voices[voice]._freq & 0xFF);
 445              		.loc 1 40 3 view .LVU88
 446 001e FFF7FEFF 		bl	writeSID
 447              	.LVL31:
  43:Src/SID.c     ****            sidChip->_voices[voice]._freq & 0xFF00 >> 8);
 448              		.loc 1 43 3 is_stmt 1 view .LVU89
  44:Src/SID.c     **** }
 449              		.loc 1 44 35 is_stmt 0 view .LVU90
 450 0022 2C44     		add	r4, r4, r5
 451              	.LVL32:
  44:Src/SID.c     **** }
 452              		.loc 1 44 35 view .LVU91
 453 0024 6300     		lsls	r3, r4, #1
 454 0026 3344     		add	r3, r3, r6
  43:Src/SID.c     ****            sidChip->_voices[voice]._freq & 0xFF00 >> 8);
 455              		.loc 1 43 3 view .LVU92
 456 0028 791C     		adds	r1, r7, #1
 457 002a 9A7C     		ldrb	r2, [r3, #18]	@ zero_extendqisi2
 458 002c C9B2     		uxtb	r1, r1
 459 002e 3046     		mov	r0, r6
 460 0030 FFF7FEFF 		bl	writeSID
 461              	.LVL33:
  45:Src/SID.c     **** 
 462              		.loc 1 45 1 view .LVU93
 463 0034 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  45:Src/SID.c     **** 
 464              		.loc 1 45 1 view .LVU94
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 13


 465              		.cfi_endproc
 466              	.LFE130:
 468              		.section	.text.writeVoicePWM,"ax",%progbits
 469              		.align	1
 470              		.global	writeVoicePWM
 471              		.syntax unified
 472              		.thumb
 473              		.thumb_func
 474              		.fpu fpv4-sp-d16
 476              	writeVoicePWM:
 477              	.LVL34:
 478              	.LFB131:
  47:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 479              		.loc 1 47 45 is_stmt 1 view -0
 480              		.cfi_startproc
 481              		@ args = 0, pretend = 0, frame = 0
 482              		@ frame_needed = 0, uses_anonymous_args = 0
  48:Src/SID.c     ****     return; // Error
 483              		.loc 1 48 3 view .LVU96
  48:Src/SID.c     ****     return; // Error
 484              		.loc 1 48 6 is_stmt 0 view .LVU97
 485 0000 0329     		cmp	r1, #3
 486 0002 00D9     		bls	.L39
 487 0004 7047     		bx	lr
 488              	.L39:
  47:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 489              		.loc 1 47 45 view .LVU98
 490 0006 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 491              	.LCFI6:
 492              		.cfi_def_cfa_offset 24
 493              		.cfi_offset 3, -24
 494              		.cfi_offset 4, -20
 495              		.cfi_offset 5, -16
 496              		.cfi_offset 6, -12
 497              		.cfi_offset 7, -8
 498              		.cfi_offset 14, -4
 499 0008 0C46     		mov	r4, r1
 500 000a 0646     		mov	r6, r0
  52:Src/SID.c     ****            sidChip->_voices[voice]._pwm & 0xFF);
 501              		.loc 1 52 3 is_stmt 1 view .LVU99
 502 000c C1EBC107 		rsb	r7, r1, r1, lsl #3
 503 0010 FFB2     		uxtb	r7, r7
  53:Src/SID.c     **** 
 504              		.loc 1 53 35 is_stmt 0 view .LVU100
 505 0012 8D00     		lsls	r5, r1, #2
 506 0014 6A18     		adds	r2, r5, r1
 507 0016 5300     		lsls	r3, r2, #1
 508 0018 0344     		add	r3, r3, r0
  52:Src/SID.c     ****            sidChip->_voices[voice]._pwm & 0xFF);
 509              		.loc 1 52 3 view .LVU101
 510 001a B91C     		adds	r1, r7, #2
 511              	.LVL35:
  52:Src/SID.c     ****            sidChip->_voices[voice]._pwm & 0xFF);
 512              		.loc 1 52 3 view .LVU102
 513 001c 1A7D     		ldrb	r2, [r3, #20]	@ zero_extendqisi2
 514 001e C9B2     		uxtb	r1, r1
 515 0020 FFF7FEFF 		bl	writeSID
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 14


 516              	.LVL36:
  55:Src/SID.c     ****            (sidChip->_voices[voice]._pwm & 0xF00) >> 8); // Masked to 5 bits
 517              		.loc 1 55 3 is_stmt 1 view .LVU103
  56:Src/SID.c     **** }
 518              		.loc 1 56 36 is_stmt 0 view .LVU104
 519 0024 2C44     		add	r4, r4, r5
 520              	.LVL37:
  56:Src/SID.c     **** }
 521              		.loc 1 56 36 view .LVU105
 522 0026 6300     		lsls	r3, r4, #1
 523 0028 3344     		add	r3, r3, r6
 524 002a 9A8A     		ldrh	r2, [r3, #20]
  55:Src/SID.c     ****            (sidChip->_voices[voice]._pwm & 0xF00) >> 8); // Masked to 5 bits
 525              		.loc 1 55 3 view .LVU106
 526 002c F91C     		adds	r1, r7, #3
 527 002e C2F30322 		ubfx	r2, r2, #8, #4
 528 0032 C9B2     		uxtb	r1, r1
 529 0034 3046     		mov	r0, r6
 530 0036 FFF7FEFF 		bl	writeSID
 531              	.LVL38:
  57:Src/SID.c     **** 
 532              		.loc 1 57 1 view .LVU107
 533 003a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  57:Src/SID.c     **** 
 534              		.loc 1 57 1 view .LVU108
 535              		.cfi_endproc
 536              	.LFE131:
 538              		.section	.text.writeVoiceEnv,"ax",%progbits
 539              		.align	1
 540              		.global	writeVoiceEnv
 541              		.syntax unified
 542              		.thumb
 543              		.thumb_func
 544              		.fpu fpv4-sp-d16
 546              	writeVoiceEnv:
 547              	.LVL39:
 548              	.LFB132:
  59:Src/SID.c     ****   uint8_t attack_decay = 0;
 549              		.loc 1 59 45 is_stmt 1 view -0
 550              		.cfi_startproc
 551              		@ args = 0, pretend = 0, frame = 0
 552              		@ frame_needed = 0, uses_anonymous_args = 0
  59:Src/SID.c     ****   uint8_t attack_decay = 0;
 553              		.loc 1 59 45 is_stmt 0 view .LVU110
 554 0000 70B5     		push	{r4, r5, r6, lr}
 555              	.LCFI7:
 556              		.cfi_def_cfa_offset 16
 557              		.cfi_offset 4, -16
 558              		.cfi_offset 5, -12
 559              		.cfi_offset 6, -8
 560              		.cfi_offset 14, -4
 561 0002 0646     		mov	r6, r0
  60:Src/SID.c     ****   attack_decay |= (sidChip->_voices[voice]._env.Attack & 0xF) << 4;
 562              		.loc 1 60 3 is_stmt 1 view .LVU111
 563              	.LVL40:
  61:Src/SID.c     ****   attack_decay |= sidChip->_voices[voice]._env.Decay & 0xF;
 564              		.loc 1 61 3 view .LVU112
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 15


  61:Src/SID.c     ****   attack_decay |= sidChip->_voices[voice]._env.Decay & 0xF;
 565              		.loc 1 61 48 is_stmt 0 view .LVU113
 566 0004 8A00     		lsls	r2, r1, #2
 567 0006 0A44     		add	r2, r2, r1
 568 0008 5300     		lsls	r3, r2, #1
 569 000a 0344     		add	r3, r3, r0
 570 000c 9A7D     		ldrb	r2, [r3, #22]	@ zero_extendqisi2
  61:Src/SID.c     ****   attack_decay |= sidChip->_voices[voice]._env.Decay & 0xF;
 571              		.loc 1 61 63 view .LVU114
 572 000e 1201     		lsls	r2, r2, #4
  61:Src/SID.c     ****   attack_decay |= sidChip->_voices[voice]._env.Decay & 0xF;
 573              		.loc 1 61 16 view .LVU115
 574 0010 52B2     		sxtb	r2, r2
 575              	.LVL41:
  62:Src/SID.c     **** 
 576              		.loc 1 62 3 is_stmt 1 view .LVU116
  62:Src/SID.c     **** 
 577              		.loc 1 62 47 is_stmt 0 view .LVU117
 578 0012 93F91740 		ldrsb	r4, [r3, #23]
  62:Src/SID.c     **** 
 579              		.loc 1 62 54 view .LVU118
 580 0016 04F00F04 		and	r4, r4, #15
  62:Src/SID.c     **** 
 581              		.loc 1 62 16 view .LVU119
 582 001a 2243     		orrs	r2, r2, r4
 583              	.LVL42:
  64:Src/SID.c     ****   sustain_release |= (sidChip->_voices[voice]._env.Sustain & 0xF) << 4;
 584              		.loc 1 64 3 is_stmt 1 view .LVU120
  65:Src/SID.c     ****   sustain_release |= sidChip->_voices[voice]._env.Release & 0xF;
 585              		.loc 1 65 3 view .LVU121
  65:Src/SID.c     ****   sustain_release |= sidChip->_voices[voice]._env.Release & 0xF;
 586              		.loc 1 65 51 is_stmt 0 view .LVU122
 587 001c 1D7E     		ldrb	r5, [r3, #24]	@ zero_extendqisi2
  65:Src/SID.c     ****   sustain_release |= sidChip->_voices[voice]._env.Release & 0xF;
 588              		.loc 1 65 67 view .LVU123
 589 001e 2D01     		lsls	r5, r5, #4
  65:Src/SID.c     ****   sustain_release |= sidChip->_voices[voice]._env.Release & 0xF;
 590              		.loc 1 65 19 view .LVU124
 591 0020 6DB2     		sxtb	r5, r5
 592              	.LVL43:
  66:Src/SID.c     **** 
 593              		.loc 1 66 3 is_stmt 1 view .LVU125
  66:Src/SID.c     **** 
 594              		.loc 1 66 50 is_stmt 0 view .LVU126
 595 0022 93F91930 		ldrsb	r3, [r3, #25]
 596              	.LVL44:
  66:Src/SID.c     **** 
 597              		.loc 1 66 59 view .LVU127
 598 0026 03F00F03 		and	r3, r3, #15
  66:Src/SID.c     **** 
 599              		.loc 1 66 19 view .LVU128
 600 002a 1D43     		orrs	r5, r5, r3
 601 002c EDB2     		uxtb	r5, r5
 602              	.LVL45:
  68:Src/SID.c     ****   writeSID(sidChip, VOICE_1_SUSTAIN_RELEASE + (voice * VOICE_REGISTER_OFFSET), sustain_release);
 603              		.loc 1 68 3 is_stmt 1 view .LVU129
 604 002e C1EBC101 		rsb	r1, r1, r1, lsl #3
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 16


 605              	.LVL46:
  68:Src/SID.c     ****   writeSID(sidChip, VOICE_1_SUSTAIN_RELEASE + (voice * VOICE_REGISTER_OFFSET), sustain_release);
 606              		.loc 1 68 3 is_stmt 0 view .LVU130
 607 0032 CCB2     		uxtb	r4, r1
 608 0034 611D     		adds	r1, r4, #5
 609 0036 D2B2     		uxtb	r2, r2
  68:Src/SID.c     ****   writeSID(sidChip, VOICE_1_SUSTAIN_RELEASE + (voice * VOICE_REGISTER_OFFSET), sustain_release);
 610              		.loc 1 68 3 view .LVU131
 611 0038 C9B2     		uxtb	r1, r1
 612 003a FFF7FEFF 		bl	writeSID
 613              	.LVL47:
  69:Src/SID.c     **** }
 614              		.loc 1 69 3 is_stmt 1 view .LVU132
 615 003e A11D     		adds	r1, r4, #6
 616 0040 2A46     		mov	r2, r5
 617 0042 C9B2     		uxtb	r1, r1
 618 0044 3046     		mov	r0, r6
 619 0046 FFF7FEFF 		bl	writeSID
 620              	.LVL48:
  70:Src/SID.c     **** 
 621              		.loc 1 70 1 is_stmt 0 view .LVU133
 622 004a 70BD     		pop	{r4, r5, r6, pc}
  70:Src/SID.c     **** 
 623              		.loc 1 70 1 view .LVU134
 624              		.cfi_endproc
 625              	.LFE132:
 627              		.section	.text.gateVoice,"ax",%progbits
 628              		.align	1
 629              		.global	gateVoice
 630              		.syntax unified
 631              		.thumb
 632              		.thumb_func
 633              		.fpu fpv4-sp-d16
 635              	gateVoice:
 636              	.LVL49:
 637              	.LFB133:
  72:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 638              		.loc 1 72 41 is_stmt 1 view -0
 639              		.cfi_startproc
 640              		@ args = 0, pretend = 0, frame = 0
 641              		@ frame_needed = 0, uses_anonymous_args = 0
  73:Src/SID.c     ****     return; // Error
 642              		.loc 1 73 3 view .LVU136
  73:Src/SID.c     ****     return; // Error
 643              		.loc 1 73 6 is_stmt 0 view .LVU137
 644 0000 0329     		cmp	r1, #3
 645 0002 1DD8     		bhi	.L52
  72:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 646              		.loc 1 72 41 view .LVU138
 647 0004 08B5     		push	{r3, lr}
 648              	.LCFI8:
 649              		.cfi_def_cfa_offset 8
 650              		.cfi_offset 3, -8
 651              		.cfi_offset 14, -4
  81:Src/SID.c     ****   switch (sidChip->_voices[voice]._currentShape) {
 652              		.loc 1 81 3 is_stmt 1 view .LVU139
 653              	.LVL50:
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 17


  82:Src/SID.c     ****   case Square:
 654              		.loc 1 82 3 view .LVU140
  82:Src/SID.c     ****   case Square:
 655              		.loc 1 82 34 is_stmt 0 view .LVU141
 656 0006 01EB8102 		add	r2, r1, r1, lsl #2
 657 000a 5300     		lsls	r3, r2, #1
 658 000c 0344     		add	r3, r3, r0
 659 000e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
  82:Src/SID.c     ****   case Square:
 660              		.loc 1 82 3 view .LVU142
 661 0010 032B     		cmp	r3, #3
 662 0012 03D8     		bhi	.L44
 663 0014 DFE803F0 		tbb	[pc, r3]
 664              	.L46:
 665 0018 0A       		.byte	(.L50-.L46)/2
 666 0019 08       		.byte	(.L48-.L46)/2
 667 001a 06       		.byte	(.L47-.L46)/2
 668 001b 04       		.byte	(.L45-.L46)/2
 669              		.p2align 1
 670              	.L44:
  81:Src/SID.c     ****   switch (sidChip->_voices[voice]._currentShape) {
 671              		.loc 1 81 11 view .LVU143
 672 001c 0022     		movs	r2, #0
 673 001e 06E0     		b	.L49
 674              	.L45:
  87:Src/SID.c     ****     break;
 675              		.loc 1 87 5 is_stmt 1 view .LVU144
 676              	.LVL51:
  88:Src/SID.c     ****   case Sawtooth:
 677              		.loc 1 88 5 view .LVU145
  87:Src/SID.c     ****     break;
 678              		.loc 1 87 10 is_stmt 0 view .LVU146
 679 0020 8022     		movs	r2, #128
  88:Src/SID.c     ****   case Sawtooth:
 680              		.loc 1 88 5 view .LVU147
 681 0022 04E0     		b	.L49
 682              	.LVL52:
 683              	.L47:
  90:Src/SID.c     ****     break;
 684              		.loc 1 90 5 is_stmt 1 view .LVU148
  91:Src/SID.c     ****   case Triangle:
 685              		.loc 1 91 5 view .LVU149
  90:Src/SID.c     ****     break;
 686              		.loc 1 90 10 is_stmt 0 view .LVU150
 687 0024 2022     		movs	r2, #32
  91:Src/SID.c     ****   case Triangle:
 688              		.loc 1 91 5 view .LVU151
 689 0026 02E0     		b	.L49
 690              	.LVL53:
 691              	.L48:
  93:Src/SID.c     ****     break;
 692              		.loc 1 93 5 is_stmt 1 view .LVU152
  94:Src/SID.c     ****   }
 693              		.loc 1 94 5 view .LVU153
  93:Src/SID.c     ****     break;
 694              		.loc 1 93 10 is_stmt 0 view .LVU154
 695 0028 1022     		movs	r2, #16
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 18


  94:Src/SID.c     ****   }
 696              		.loc 1 94 5 view .LVU155
 697 002a 00E0     		b	.L49
 698              	.LVL54:
 699              	.L50:
  84:Src/SID.c     ****     break;
 700              		.loc 1 84 10 view .LVU156
 701 002c 4022     		movs	r2, #64
 702              	.LVL55:
 703              	.L49:
  98:Src/SID.c     **** 
 704              		.loc 1 98 3 is_stmt 1 view .LVU157
 103:Src/SID.c     **** }
 705              		.loc 1 103 3 view .LVU158
 706 002e C1EBC101 		rsb	r1, r1, r1, lsl #3
 707              	.LVL56:
 103:Src/SID.c     **** }
 708              		.loc 1 103 3 is_stmt 0 view .LVU159
 709 0032 0431     		adds	r1, r1, #4
 710 0034 42F00102 		orr	r2, r2, #1
 711              	.LVL57:
 103:Src/SID.c     **** }
 712              		.loc 1 103 3 view .LVU160
 713 0038 C9B2     		uxtb	r1, r1
 714 003a FFF7FEFF 		bl	writeSID
 715              	.LVL58:
 104:Src/SID.c     **** 
 716              		.loc 1 104 1 view .LVU161
 717 003e 08BD     		pop	{r3, pc}
 718              	.LVL59:
 719              	.L52:
 720              	.LCFI9:
 721              		.cfi_def_cfa_offset 0
 722              		.cfi_restore 3
 723              		.cfi_restore 14
 104:Src/SID.c     **** 
 724              		.loc 1 104 1 view .LVU162
 725 0040 7047     		bx	lr
 726              		.cfi_endproc
 727              	.LFE133:
 729              		.section	.text.ungateVoice,"ax",%progbits
 730              		.align	1
 731              		.global	ungateVoice
 732              		.syntax unified
 733              		.thumb
 734              		.thumb_func
 735              		.fpu fpv4-sp-d16
 737              	ungateVoice:
 738              	.LVL60:
 739              	.LFB134:
 106:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 740              		.loc 1 106 43 is_stmt 1 view -0
 741              		.cfi_startproc
 742              		@ args = 0, pretend = 0, frame = 0
 743              		@ frame_needed = 0, uses_anonymous_args = 0
 107:Src/SID.c     ****     return; // Error
 744              		.loc 1 107 3 view .LVU164
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 19


 107:Src/SID.c     ****     return; // Error
 745              		.loc 1 107 6 is_stmt 0 view .LVU165
 746 0000 0329     		cmp	r1, #3
 747 0002 1BD8     		bhi	.L65
 106:Src/SID.c     ****   if (voice > NUM_VOICES || voice < 0) {
 748              		.loc 1 106 43 view .LVU166
 749 0004 08B5     		push	{r3, lr}
 750              	.LCFI10:
 751              		.cfi_def_cfa_offset 8
 752              		.cfi_offset 3, -8
 753              		.cfi_offset 14, -4
 115:Src/SID.c     ****   switch (sidChip->_voices[voice]._currentShape) {
 754              		.loc 1 115 3 is_stmt 1 view .LVU167
 755              	.LVL61:
 116:Src/SID.c     ****   case Square:
 756              		.loc 1 116 3 view .LVU168
 116:Src/SID.c     ****   case Square:
 757              		.loc 1 116 34 is_stmt 0 view .LVU169
 758 0006 01EB8102 		add	r2, r1, r1, lsl #2
 759 000a 5300     		lsls	r3, r2, #1
 760 000c 0344     		add	r3, r3, r0
 761 000e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 116:Src/SID.c     ****   case Square:
 762              		.loc 1 116 3 view .LVU170
 763 0010 032B     		cmp	r3, #3
 764 0012 03D8     		bhi	.L57
 765 0014 DFE803F0 		tbb	[pc, r3]
 766              	.L59:
 767 0018 0A       		.byte	(.L63-.L59)/2
 768 0019 08       		.byte	(.L61-.L59)/2
 769 001a 06       		.byte	(.L60-.L59)/2
 770 001b 04       		.byte	(.L58-.L59)/2
 771              		.p2align 1
 772              	.L57:
 115:Src/SID.c     ****   switch (sidChip->_voices[voice]._currentShape) {
 773              		.loc 1 115 11 view .LVU171
 774 001c 0022     		movs	r2, #0
 775 001e 06E0     		b	.L62
 776              	.L58:
 121:Src/SID.c     ****     break;
 777              		.loc 1 121 5 is_stmt 1 view .LVU172
 778              	.LVL62:
 122:Src/SID.c     ****   case Sawtooth:
 779              		.loc 1 122 5 view .LVU173
 121:Src/SID.c     ****     break;
 780              		.loc 1 121 10 is_stmt 0 view .LVU174
 781 0020 8022     		movs	r2, #128
 122:Src/SID.c     ****   case Sawtooth:
 782              		.loc 1 122 5 view .LVU175
 783 0022 04E0     		b	.L62
 784              	.LVL63:
 785              	.L60:
 124:Src/SID.c     ****     break;
 786              		.loc 1 124 5 is_stmt 1 view .LVU176
 125:Src/SID.c     ****   case Triangle:
 787              		.loc 1 125 5 view .LVU177
 124:Src/SID.c     ****     break;
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 20


 788              		.loc 1 124 10 is_stmt 0 view .LVU178
 789 0024 2022     		movs	r2, #32
 125:Src/SID.c     ****   case Triangle:
 790              		.loc 1 125 5 view .LVU179
 791 0026 02E0     		b	.L62
 792              	.LVL64:
 793              	.L61:
 127:Src/SID.c     ****     break;
 794              		.loc 1 127 5 is_stmt 1 view .LVU180
 128:Src/SID.c     ****   }
 795              		.loc 1 128 5 view .LVU181
 127:Src/SID.c     ****     break;
 796              		.loc 1 127 10 is_stmt 0 view .LVU182
 797 0028 1022     		movs	r2, #16
 128:Src/SID.c     ****   }
 798              		.loc 1 128 5 view .LVU183
 799 002a 00E0     		b	.L62
 800              	.LVL65:
 801              	.L63:
 118:Src/SID.c     ****     break;
 802              		.loc 1 118 10 view .LVU184
 803 002c 4022     		movs	r2, #64
 804              	.LVL66:
 805              	.L62:
 132:Src/SID.c     **** 
 806              		.loc 1 132 3 is_stmt 1 view .LVU185
 137:Src/SID.c     **** }
 807              		.loc 1 137 3 view .LVU186
 808 002e C1EBC101 		rsb	r1, r1, r1, lsl #3
 809              	.LVL67:
 137:Src/SID.c     **** }
 810              		.loc 1 137 3 is_stmt 0 view .LVU187
 811 0032 0431     		adds	r1, r1, #4
 812 0034 C9B2     		uxtb	r1, r1
 813 0036 FFF7FEFF 		bl	writeSID
 814              	.LVL68:
 138:Src/SID.c     **** 
 815              		.loc 1 138 1 view .LVU188
 816 003a 08BD     		pop	{r3, pc}
 817              	.LVL69:
 818              	.L65:
 819              	.LCFI11:
 820              		.cfi_def_cfa_offset 0
 821              		.cfi_restore 3
 822              		.cfi_restore 14
 138:Src/SID.c     **** 
 823              		.loc 1 138 1 view .LVU189
 824 003c 7047     		bx	lr
 825              		.cfi_endproc
 826              	.LFE134:
 828              		.section	.text.writeFilterCutoff,"ax",%progbits
 829              		.align	1
 830              		.global	writeFilterCutoff
 831              		.syntax unified
 832              		.thumb
 833              		.thumb_func
 834              		.fpu fpv4-sp-d16
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 21


 836              	writeFilterCutoff:
 837              	.LVL70:
 838              	.LFB136:
 147:Src/SID.c     ****   // Cutoff is two bytes
 839              		.loc 1 147 38 is_stmt 1 view -0
 840              		.cfi_startproc
 841              		@ args = 0, pretend = 0, frame = 0
 842              		@ frame_needed = 0, uses_anonymous_args = 0
 147:Src/SID.c     ****   // Cutoff is two bytes
 843              		.loc 1 147 38 is_stmt 0 view .LVU191
 844 0000 10B5     		push	{r4, lr}
 845              	.LCFI12:
 846              		.cfi_def_cfa_offset 8
 847              		.cfi_offset 4, -8
 848              		.cfi_offset 14, -4
 849 0002 0446     		mov	r4, r0
 149:Src/SID.c     ****   writeSID(sidChip, FILTER_CUTOFF_HIGH, (sidChip->_filter._cutoff & 0x700) >> 8);
 850              		.loc 1 149 3 is_stmt 1 view .LVU192
 851 0004 90F82E20 		ldrb	r2, [r0, #46]	@ zero_extendqisi2
 852 0008 1521     		movs	r1, #21
 853 000a FFF7FEFF 		bl	writeSID
 854              	.LVL71:
 150:Src/SID.c     **** }
 855              		.loc 1 150 3 view .LVU193
 150:Src/SID.c     **** }
 856              		.loc 1 150 58 is_stmt 0 view .LVU194
 857 000e E28D     		ldrh	r2, [r4, #46]
 150:Src/SID.c     **** }
 858              		.loc 1 150 3 view .LVU195
 859 0010 C2F30222 		ubfx	r2, r2, #8, #3
 860 0014 1621     		movs	r1, #22
 861 0016 2046     		mov	r0, r4
 862 0018 FFF7FEFF 		bl	writeSID
 863              	.LVL72:
 151:Src/SID.c     **** 
 864              		.loc 1 151 1 view .LVU196
 865 001c 10BD     		pop	{r4, pc}
 151:Src/SID.c     **** 
 866              		.loc 1 151 1 view .LVU197
 867              		.cfi_endproc
 868              	.LFE136:
 870              		.section	.text.writeFilterResonance,"ax",%progbits
 871              		.align	1
 872              		.global	writeFilterResonance
 873              		.syntax unified
 874              		.thumb
 875              		.thumb_func
 876              		.fpu fpv4-sp-d16
 878              	writeFilterResonance:
 879              	.LVL73:
 880              	.LFB139:
 166:Src/SID.c     ****   // Data contains resonance and filter target
 881              		.loc 1 166 41 is_stmt 1 view -0
 882              		.cfi_startproc
 883              		@ args = 0, pretend = 0, frame = 0
 884              		@ frame_needed = 0, uses_anonymous_args = 0
 166:Src/SID.c     ****   // Data contains resonance and filter target
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 22


 885              		.loc 1 166 41 is_stmt 0 view .LVU199
 886 0000 08B5     		push	{r3, lr}
 887              	.LCFI13:
 888              		.cfi_def_cfa_offset 8
 889              		.cfi_offset 3, -8
 890              		.cfi_offset 14, -4
 168:Src/SID.c     ****   data |= (sidChip->_filter._resonance & 0xF) << 4;
 891              		.loc 1 168 3 is_stmt 1 view .LVU200
 892              	.LVL74:
 169:Src/SID.c     ****   for (int i = 0; i < NUM_VOICES + 1; i++) {
 893              		.loc 1 169 3 view .LVU201
 169:Src/SID.c     ****   for (int i = 0; i < NUM_VOICES + 1; i++) {
 894              		.loc 1 169 28 is_stmt 0 view .LVU202
 895 0002 90F83020 		ldrb	r2, [r0, #48]	@ zero_extendqisi2
 169:Src/SID.c     ****   for (int i = 0; i < NUM_VOICES + 1; i++) {
 896              		.loc 1 169 47 view .LVU203
 897 0006 1201     		lsls	r2, r2, #4
 169:Src/SID.c     ****   for (int i = 0; i < NUM_VOICES + 1; i++) {
 898              		.loc 1 169 8 view .LVU204
 899 0008 D2B2     		uxtb	r2, r2
 900              	.LVL75:
 170:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
 901              		.loc 1 170 3 is_stmt 1 view .LVU205
 902              	.LBB2:
 170:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
 903              		.loc 1 170 8 view .LVU206
 170:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
 904              		.loc 1 170 12 is_stmt 0 view .LVU207
 905 000a 0023     		movs	r3, #0
 170:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
 906              		.loc 1 170 3 view .LVU208
 907 000c 06E0     		b	.L71
 908              	.LVL76:
 909              	.L72:
 171:Src/SID.c     ****   }
 910              		.loc 1 171 5 is_stmt 1 discriminator 3 view .LVU209
 171:Src/SID.c     ****   }
 911              		.loc 1 171 41 is_stmt 0 discriminator 3 view .LVU210
 912 000e C118     		adds	r1, r0, r3
 913 0010 91F83310 		ldrb	r1, [r1, #51]	@ zero_extendqisi2
 171:Src/SID.c     ****   }
 914              		.loc 1 171 45 discriminator 3 view .LVU211
 915 0014 9940     		lsls	r1, r1, r3
 171:Src/SID.c     ****   }
 916              		.loc 1 171 10 discriminator 3 view .LVU212
 917 0016 0A43     		orrs	r2, r2, r1
 918              	.LVL77:
 171:Src/SID.c     ****   }
 919              		.loc 1 171 10 discriminator 3 view .LVU213
 920 0018 D2B2     		uxtb	r2, r2
 921              	.LVL78:
 170:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
 922              		.loc 1 170 40 discriminator 3 view .LVU214
 923 001a 0133     		adds	r3, r3, #1
 924              	.LVL79:
 925              	.L71:
 170:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 23


 926              		.loc 1 170 3 discriminator 1 view .LVU215
 927 001c 032B     		cmp	r3, #3
 928 001e F6DD     		ble	.L72
 170:Src/SID.c     ****     data |= sidChip->_filter._filterPipe[i] << i;
 929              		.loc 1 170 3 discriminator 1 view .LVU216
 930              	.LBE2:
 173:Src/SID.c     **** }
 931              		.loc 1 173 3 is_stmt 1 view .LVU217
 932 0020 1721     		movs	r1, #23
 933 0022 FFF7FEFF 		bl	writeSID
 934              	.LVL80:
 174:Src/SID.c     **** 
 935              		.loc 1 174 1 is_stmt 0 view .LVU218
 936 0026 08BD     		pop	{r3, pc}
 937              		.cfi_endproc
 938              	.LFE139:
 940              		.section	.text.writeFilterVolume,"ax",%progbits
 941              		.align	1
 942              		.global	writeFilterVolume
 943              		.syntax unified
 944              		.thumb
 945              		.thumb_func
 946              		.fpu fpv4-sp-d16
 948              	writeFilterVolume:
 949              	.LVL81:
 950              	.LFB142:
 186:Src/SID.c     ****   // Data contains volume and filter type
 951              		.loc 1 186 38 is_stmt 1 view -0
 952              		.cfi_startproc
 953              		@ args = 0, pretend = 0, frame = 0
 954              		@ frame_needed = 0, uses_anonymous_args = 0
 186:Src/SID.c     ****   // Data contains volume and filter type
 955              		.loc 1 186 38 is_stmt 0 view .LVU220
 956 0000 08B5     		push	{r3, lr}
 957              	.LCFI14:
 958              		.cfi_def_cfa_offset 8
 959              		.cfi_offset 3, -8
 960              		.cfi_offset 14, -4
 188:Src/SID.c     ****   data |= sidChip->_filter._volume & 0xF;
 961              		.loc 1 188 3 is_stmt 1 view .LVU221
 962              	.LVL82:
 189:Src/SID.c     ****   switch (sidChip->_filter._type) {
 963              		.loc 1 189 3 view .LVU222
 189:Src/SID.c     ****   switch (sidChip->_filter._type) {
 964              		.loc 1 189 27 is_stmt 0 view .LVU223
 965 0002 90F93120 		ldrsb	r2, [r0, #49]
 189:Src/SID.c     ****   switch (sidChip->_filter._type) {
 966              		.loc 1 189 8 view .LVU224
 967 0006 02F00F02 		and	r2, r2, #15
 968              	.LVL83:
 190:Src/SID.c     ****   case ThreeOff:
 969              		.loc 1 190 3 is_stmt 1 view .LVU225
 190:Src/SID.c     ****   case ThreeOff:
 970              		.loc 1 190 27 is_stmt 0 view .LVU226
 971 000a 90F83230 		ldrb	r3, [r0, #50]	@ zero_extendqisi2
 190:Src/SID.c     ****   case ThreeOff:
 972              		.loc 1 190 3 view .LVU227
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 24


 973 000e 032B     		cmp	r3, #3
 974 0010 05D8     		bhi	.L75
 975 0012 DFE803F0 		tbb	[pc, r3]
 976              	.L77:
 977 0016 02       		.byte	(.L80-.L77)/2
 978 0017 08       		.byte	(.L79-.L77)/2
 979 0018 0B       		.byte	(.L78-.L77)/2
 980 0019 0E       		.byte	(.L76-.L77)/2
 981              		.p2align 1
 982              	.L80:
 192:Src/SID.c     ****     break;
 983              		.loc 1 192 5 is_stmt 1 view .LVU228
 192:Src/SID.c     ****     break;
 984              		.loc 1 192 10 is_stmt 0 view .LVU229
 985 001a 42F08002 		orr	r2, r2, #128
 986              	.LVL84:
 193:Src/SID.c     ****   case HP:
 987              		.loc 1 193 5 is_stmt 1 view .LVU230
 988              	.L75:
 204:Src/SID.c     **** }
 989              		.loc 1 204 3 view .LVU231
 990 001e 1821     		movs	r1, #24
 991 0020 FFF7FEFF 		bl	writeSID
 992              	.LVL85:
 205:Src/SID.c     **** 
 993              		.loc 1 205 1 is_stmt 0 view .LVU232
 994 0024 08BD     		pop	{r3, pc}
 995              	.LVL86:
 996              	.L79:
 195:Src/SID.c     ****     break;
 997              		.loc 1 195 5 is_stmt 1 view .LVU233
 195:Src/SID.c     ****     break;
 998              		.loc 1 195 10 is_stmt 0 view .LVU234
 999 0026 42F04002 		orr	r2, r2, #64
 1000              	.LVL87:
 196:Src/SID.c     ****   case BP:
 1001              		.loc 1 196 5 is_stmt 1 view .LVU235
 1002 002a F8E7     		b	.L75
 1003              	.L78:
 198:Src/SID.c     ****     break;
 1004              		.loc 1 198 5 view .LVU236
 198:Src/SID.c     ****     break;
 1005              		.loc 1 198 10 is_stmt 0 view .LVU237
 1006 002c 42F02002 		orr	r2, r2, #32
 1007              	.LVL88:
 199:Src/SID.c     ****   case LP:
 1008              		.loc 1 199 5 is_stmt 1 view .LVU238
 1009 0030 F5E7     		b	.L75
 1010              	.L76:
 201:Src/SID.c     ****     break;
 1011              		.loc 1 201 5 view .LVU239
 201:Src/SID.c     ****     break;
 1012              		.loc 1 201 10 is_stmt 0 view .LVU240
 1013 0032 42F01002 		orr	r2, r2, #16
 1014              	.LVL89:
 202:Src/SID.c     ****   }
 1015              		.loc 1 202 5 is_stmt 1 view .LVU241
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 25


 1016 0036 F2E7     		b	.L75
 1017              		.cfi_endproc
 1018              	.LFE142:
 1020              		.section	.text.clearSID,"ax",%progbits
 1021              		.align	1
 1022              		.global	clearSID
 1023              		.syntax unified
 1024              		.thumb
 1025              		.thumb_func
 1026              		.fpu fpv4-sp-d16
 1028              	clearSID:
 1029              	.LVL90:
 1030              	.LFB144:
 228:Src/SID.c     **** 
 229:Src/SID.c     **** // Reset the SID chip and clear all registers
 230:Src/SID.c     **** void clearSID(SID *sidChip) {
 1031              		.loc 1 230 29 view -0
 1032              		.cfi_startproc
 1033              		@ args = 0, pretend = 0, frame = 0
 1034              		@ frame_needed = 0, uses_anonymous_args = 0
 1035              		.loc 1 230 29 is_stmt 0 view .LVU243
 1036 0000 38B5     		push	{r3, r4, r5, lr}
 1037              	.LCFI15:
 1038              		.cfi_def_cfa_offset 16
 1039              		.cfi_offset 3, -16
 1040              		.cfi_offset 4, -12
 1041              		.cfi_offset 5, -8
 1042              		.cfi_offset 14, -4
 1043 0002 0546     		mov	r5, r0
 231:Src/SID.c     ****   // From the datasheet, hold ~RES Low for 10 clock cycles
 232:Src/SID.c     ****   HAL_GPIO_WritePin(sidChip->_res_port, sidChip->_res, GPIO_PIN_RESET);
 1044              		.loc 1 232 3 is_stmt 1 view .LVU244
 1045 0004 0022     		movs	r2, #0
 1046 0006 0188     		ldrh	r1, [r0]
 1047 0008 4068     		ldr	r0, [r0, #4]
 1048              	.LVL91:
 1049              		.loc 1 232 3 is_stmt 0 view .LVU245
 1050 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1051              	.LVL92:
 233:Src/SID.c     ****   HAL_Delay(1 / SID_FREQ * 10000);
 1052              		.loc 1 233 3 is_stmt 1 view .LVU246
 1053 000e 0020     		movs	r0, #0
 1054 0010 FFF7FEFF 		bl	HAL_Delay
 1055              	.LVL93:
 234:Src/SID.c     ****   HAL_GPIO_WritePin(sidChip->_res_port, sidChip->_res, GPIO_PIN_SET);
 1056              		.loc 1 234 3 view .LVU247
 1057 0014 0122     		movs	r2, #1
 1058 0016 2988     		ldrh	r1, [r5]
 1059 0018 6868     		ldr	r0, [r5, #4]
 1060 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 1061              	.LVL94:
 235:Src/SID.c     ****   // Now write zeros to every register
 236:Src/SID.c     ****   for(int i = 0; i < NUM_REGISTERS; i++)
 1062              		.loc 1 236 3 view .LVU248
 1063              	.LBB3:
 1064              		.loc 1 236 7 view .LVU249
 1065              		.loc 1 236 11 is_stmt 0 view .LVU250
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 26


 1066 001e 0024     		movs	r4, #0
 1067              	.LVL95:
 1068              	.L83:
 1069              		.loc 1 236 3 discriminator 1 view .LVU251
 1070 0020 172C     		cmp	r4, #23
 1071 0022 06DC     		bgt	.L86
 237:Src/SID.c     ****   {
 238:Src/SID.c     ****     writeSID(sidChip,i,0);
 1072              		.loc 1 238 5 is_stmt 1 discriminator 3 view .LVU252
 1073 0024 0022     		movs	r2, #0
 1074 0026 E1B2     		uxtb	r1, r4
 1075 0028 2846     		mov	r0, r5
 1076 002a FFF7FEFF 		bl	writeSID
 1077              	.LVL96:
 236:Src/SID.c     ****   {
 1078              		.loc 1 236 38 is_stmt 0 discriminator 3 view .LVU253
 1079 002e 0134     		adds	r4, r4, #1
 1080              	.LVL97:
 236:Src/SID.c     ****   {
 1081              		.loc 1 236 38 discriminator 3 view .LVU254
 1082 0030 F6E7     		b	.L83
 1083              	.L86:
 236:Src/SID.c     ****   {
 1084              		.loc 1 236 38 discriminator 3 view .LVU255
 1085              	.LBE3:
 239:Src/SID.c     ****   }
 240:Src/SID.c     **** }...
 1086              		.loc 1 240 1 view .LVU256
 1087 0032 38BD     		pop	{r3, r4, r5, pc}
 1088              		.loc 1 240 1 view .LVU257
 1089              		.cfi_endproc
 1090              	.LFE144:
 1092              		.text
 1093              	.Letext0:
 1094              		.file 2 "/usr/local/gcc_arm/arm-none-eabi/include/machine/_default_types.h"
 1095              		.file 3 "/usr/local/gcc_arm/arm-none-eabi/include/sys/_stdint.h"
 1096              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1097              		.file 5 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/system_stm32f3xx.h"
 1098              		.file 6 "Drivers/CMSIS/Device/ST/STM32F3xx/Include/stm32f303xc.h"
 1099              		.file 7 "/usr/local/gcc_arm/arm-none-eabi/include/sys/lock.h"
 1100              		.file 8 "/usr/local/gcc_arm/arm-none-eabi/include/sys/_types.h"
 1101              		.file 9 "/usr/local/gcc_arm/lib/gcc/arm-none-eabi/8.2.1/include/stddef.h"
 1102              		.file 10 "/usr/local/gcc_arm/arm-none-eabi/include/sys/reent.h"
 1103              		.file 11 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_def.h"
 1104              		.file 12 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_gpio.h"
 1105              		.file 13 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_dma.h"
 1106              		.file 14 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal_spi.h"
 1107              		.file 15 "Drivers/STM32F3xx_HAL_Driver/Inc/stm32f3xx_hal.h"
 1108              		.file 16 "Inc/SID.h"
ARM GAS  /var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s 			page 27


DEFINED SYMBOLS
                            *ABS*:0000000000000000 SID.c
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:18     .text.setVoiceFreq:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:26     .text.setVoiceFreq:0000000000000000 setVoiceFreq
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:56     .text.setVoicePWM:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:63     .text.setVoicePWM:0000000000000000 setVoicePWM
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:100    .text.setVoiceShape:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:107    .text.setVoiceShape:0000000000000000 setVoiceShape
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:136    .text.setVoiceEnv:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:143    .text.setVoiceEnv:0000000000000000 setVoiceEnv
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:179    .text.setFilterCutoff:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:186    .text.setFilterCutoff:0000000000000000 setFilterCutoff
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:211    .text.setFilterResonance:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:218    .text.setFilterResonance:0000000000000000 setFilterResonance
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:243    .text.setFilterTargets:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:250    .text.setFilterTargets:0000000000000000 setFilterTargets
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:275    .text.setVolume:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:282    .text.setVolume:0000000000000000 setVolume
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:307    .text.setFilterType:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:314    .text.setFilterType:0000000000000000 setFilterType
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:331    .text.writeSID:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:338    .text.writeSID:0000000000000000 writeSID
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:401    .text.writeVoiceFreq:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:408    .text.writeVoiceFreq:0000000000000000 writeVoiceFreq
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:469    .text.writeVoicePWM:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:476    .text.writeVoicePWM:0000000000000000 writeVoicePWM
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:539    .text.writeVoiceEnv:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:546    .text.writeVoiceEnv:0000000000000000 writeVoiceEnv
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:628    .text.gateVoice:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:635    .text.gateVoice:0000000000000000 gateVoice
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:665    .text.gateVoice:0000000000000018 $d
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:669    .text.gateVoice:000000000000001c $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:730    .text.ungateVoice:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:737    .text.ungateVoice:0000000000000000 ungateVoice
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:767    .text.ungateVoice:0000000000000018 $d
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:771    .text.ungateVoice:000000000000001c $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:829    .text.writeFilterCutoff:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:836    .text.writeFilterCutoff:0000000000000000 writeFilterCutoff
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:871    .text.writeFilterResonance:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:878    .text.writeFilterResonance:0000000000000000 writeFilterResonance
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:941    .text.writeFilterVolume:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:948    .text.writeFilterVolume:0000000000000000 writeFilterVolume
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:977    .text.writeFilterVolume:0000000000000016 $d
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:981    .text.writeFilterVolume:000000000000001a $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:1021   .text.clearSID:0000000000000000 $t
/var/folders/hg/yd2wmrcs4nb8mlpb2c051fww0000gn/T//ccvZUe40.s:1028   .text.clearSID:0000000000000000 clearSID

UNDEFINED SYMBOLS
HAL_SPI_Transmit
HAL_GPIO_WritePin
HAL_Delay
